# Tmux configuration

# General {{{

set-window-option -g xterm-keys on

# Force tmux to use utf-8
setw -gq utf8 on

# Enable mouse support
set -g mouse on

# Set out terminal to kitty
#set -g default-terminal "xterm-kitty"

# Report a title to external programs
#set-option -g allow-rename off
set-option -g set-titles on
set-option -g set-titles-string "#S"#

# Automatically renumber tmux windows
set -g renumber-windows on

# Make delay shorter
set -sg escape-time 0

# Tile all windows
unbind =
bind = select-layout tiled

# Make window/pane index start with 1
set -g base-index 1
setw -g pane-base-index 1

# }}}

# Keybinds {{{

# Reload config file
bind r source-file ~/.tmux.conf \; display "Config Reloaded!"

# For nested tmux sessions
bind-key a send-prefix

# Unbind default prefix and set it to Ctrl+a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Synchronize all panes in a window
bind y setw synchronize-panes

# Cycle windows
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# }}}

# Plugins Configuration {{{

# Configure 1password
set -g @1password-subdomain 'my'
set -g @1password-vault ''

# }}}

# Plugins {{{

# Custom dir outside of .dotfiles
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.local/share/tmux/plugins'

# List of plugins
set -g @plugin 'tmux-plugins/tpm'

# Sensible tmux defaults
set -g @plugin 'tmux-plugins/tmux-sensible'

# Yanks to the system keyboard
set -g @plugin 'tmux-plugins/tmux-yank'

# Allows path picking from any tmux window content
set -g @plugin 'jbnicolai/tmux-fpp'

# Sensible pane key bindings
set -g @plugin 'tmux-plugins/tmux-pain-control'

# Common pane navination with vim (overrides C-l for clear)
set -g @plugin 'christoomey/vim-tmux-navigator'

# Access 1password from tmux
set -g @plugin 'yardnsm/tmux-1password'

# Fancy copy
set -g @plugin 'Morantron/tmux-fingers'

# Initialize TMUX plugin manager
run -b '~/.local/share/tmux/plugins/tpm/tpm'

# }}}

# vim:fdm=marker ft=conf foldlevel=0 foldenable
